<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Socket.io experimenting</title>
	<style>
		a {
			display: inline-block;
			padding: 20px;
			color: black;
			background: lightgray;
			text-decoration: none;
		}
	</style>
</head>
<body>

	<h1>Interface</h1>
	<a href="#" data-command="streamToggle">Toggle stream visiblity</a>
	<a href="#" data-command="scheduleToggle">Toggle schedule visiblity</a>

	<h1>Stream</h1>
	<form data-stream-url>
		Stream URL:
		<input type="url">
		<button type="submit">Go</button>
	</form>
	<a href="#" data-command="streamNavigate" data-params="{ url: '/screens/hello/' }">Hello</a>
	<a href="#" data-command="streamNavigate" data-params="{ url: '/screens/goodbye/' }">Goodbye</a>

	<h1>Schedule</h1>
	<a href="#" data-command="scheduleUpdate">Force update schedule</a>
	
	<script src="/assets/js/vendor.min.js"></script>
	<script src="https://cdn.socket.io/socket.io-1.3.5.js"></script>
	<script>
 		var socket = io();
 		$("[data-command]").on("click", function(e) {
 			e.preventDefault();
 			socket.emit("command", $(this).attr("data-command"), $(this).attr("data-params"));
 		});
 		$("[data-stream-url]").on("submit", function(e) {
 			e.preventDefault();
 			socket.emit("command", "streamNavigate", { url: $(this).find("input").val() });
 		})
	</script>

</body>
</html>